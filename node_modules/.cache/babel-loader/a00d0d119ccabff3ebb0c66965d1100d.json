{"ast":null,"code":"'use strict';\n\nvar Mixin = require('../../utils/mixin'),\n    inherits = require('util').inherits,\n    UNICODE = require('../../common/unicode'); //Aliases\n\n\nvar $ = UNICODE.CODE_POINTS;\n\nvar PositionTrackingPreprocessorMixin = module.exports = function (preprocessor) {\n  // NOTE: avoid installing tracker twice\n  if (!preprocessor.__locTracker) {\n    preprocessor.__locTracker = this;\n    Mixin.call(this, preprocessor);\n    this.preprocessor = preprocessor;\n    this.isEol = false;\n    this.lineStartPos = 0;\n    this.droppedBufferSize = 0;\n    this.col = -1;\n    this.line = 1;\n  }\n\n  return preprocessor.__locTracker;\n};\n\ninherits(PositionTrackingPreprocessorMixin, Mixin);\nObject.defineProperty(PositionTrackingPreprocessorMixin.prototype, 'offset', {\n  get: function () {\n    return this.droppedBufferSize + this.preprocessor.pos;\n  }\n});\n\nPositionTrackingPreprocessorMixin.prototype._getOverriddenMethods = function (mxn, orig) {\n  return {\n    advance: function () {\n      var cp = orig.advance.call(this); //NOTE: LF should be in the last column of the line\n\n      if (mxn.isEol) {\n        mxn.isEol = false;\n        mxn.line++;\n        mxn.lineStartPos = mxn.offset;\n      }\n\n      if (cp === $.LINE_FEED) mxn.isEol = true;\n      mxn.col = mxn.offset - mxn.lineStartPos + 1;\n      return cp;\n    },\n    retreat: function () {\n      orig.retreat.call(this);\n      mxn.isEol = false;\n      mxn.col = mxn.offset - mxn.lineStartPos + 1;\n    },\n    dropParsedChunk: function () {\n      var prevPos = this.pos;\n      orig.dropParsedChunk.call(this);\n      mxn.droppedBufferSize += prevPos - this.pos;\n    }\n  };\n};","map":{"version":3,"names":["Mixin","require","inherits","UNICODE","$","CODE_POINTS","PositionTrackingPreprocessorMixin","module","exports","preprocessor","__locTracker","call","isEol","lineStartPos","droppedBufferSize","col","line","Object","defineProperty","prototype","get","pos","_getOverriddenMethods","mxn","orig","advance","cp","offset","LINE_FEED","retreat","dropParsedChunk","prevPos"],"sources":["D:/ReactJS-Ecommerce/react-ecommerce/node_modules/react-render-html/node_modules/parse5/lib/extensions/position_tracking/preprocessor_mixin.js"],"sourcesContent":["'use strict';\n\nvar Mixin = require('../../utils/mixin'),\n    inherits = require('util').inherits,\n    UNICODE = require('../../common/unicode');\n\n//Aliases\nvar $ = UNICODE.CODE_POINTS;\n\nvar PositionTrackingPreprocessorMixin = module.exports = function (preprocessor) {\n    // NOTE: avoid installing tracker twice\n    if (!preprocessor.__locTracker) {\n        preprocessor.__locTracker = this;\n\n        Mixin.call(this, preprocessor);\n\n        this.preprocessor = preprocessor;\n        this.isEol = false;\n        this.lineStartPos = 0;\n        this.droppedBufferSize = 0;\n\n        this.col = -1;\n        this.line = 1;\n    }\n\n    return preprocessor.__locTracker;\n};\n\ninherits(PositionTrackingPreprocessorMixin, Mixin);\n\nObject.defineProperty(PositionTrackingPreprocessorMixin.prototype, 'offset', {\n    get: function () {\n        return this.droppedBufferSize + this.preprocessor.pos;\n    }\n});\n\nPositionTrackingPreprocessorMixin.prototype._getOverriddenMethods = function (mxn, orig) {\n    return {\n        advance: function () {\n            var cp = orig.advance.call(this);\n\n            //NOTE: LF should be in the last column of the line\n            if (mxn.isEol) {\n                mxn.isEol = false;\n                mxn.line++;\n                mxn.lineStartPos = mxn.offset;\n            }\n\n            if (cp === $.LINE_FEED)\n                mxn.isEol = true;\n\n            mxn.col = mxn.offset - mxn.lineStartPos + 1;\n\n            return cp;\n        },\n\n        retreat: function () {\n            orig.retreat.call(this);\n            mxn.isEol = false;\n\n            mxn.col = mxn.offset - mxn.lineStartPos + 1;\n        },\n\n        dropParsedChunk: function () {\n            var prevPos = this.pos;\n\n            orig.dropParsedChunk.call(this);\n\n            mxn.droppedBufferSize += prevPos - this.pos;\n        }\n    };\n};\n"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAGC,OAAO,CAAC,mBAAD,CAAnB;AAAA,IACIC,QAAQ,GAAGD,OAAO,CAAC,MAAD,CAAP,CAAgBC,QAD/B;AAAA,IAEIC,OAAO,GAAGF,OAAO,CAAC,sBAAD,CAFrB,C,CAIA;;;AACA,IAAIG,CAAC,GAAGD,OAAO,CAACE,WAAhB;;AAEA,IAAIC,iCAAiC,GAAGC,MAAM,CAACC,OAAP,GAAiB,UAAUC,YAAV,EAAwB;EAC7E;EACA,IAAI,CAACA,YAAY,CAACC,YAAlB,EAAgC;IAC5BD,YAAY,CAACC,YAAb,GAA4B,IAA5B;IAEAV,KAAK,CAACW,IAAN,CAAW,IAAX,EAAiBF,YAAjB;IAEA,KAAKA,YAAL,GAAoBA,YAApB;IACA,KAAKG,KAAL,GAAa,KAAb;IACA,KAAKC,YAAL,GAAoB,CAApB;IACA,KAAKC,iBAAL,GAAyB,CAAzB;IAEA,KAAKC,GAAL,GAAW,CAAC,CAAZ;IACA,KAAKC,IAAL,GAAY,CAAZ;EACH;;EAED,OAAOP,YAAY,CAACC,YAApB;AACH,CAjBD;;AAmBAR,QAAQ,CAACI,iCAAD,EAAoCN,KAApC,CAAR;AAEAiB,MAAM,CAACC,cAAP,CAAsBZ,iCAAiC,CAACa,SAAxD,EAAmE,QAAnE,EAA6E;EACzEC,GAAG,EAAE,YAAY;IACb,OAAO,KAAKN,iBAAL,GAAyB,KAAKL,YAAL,CAAkBY,GAAlD;EACH;AAHwE,CAA7E;;AAMAf,iCAAiC,CAACa,SAAlC,CAA4CG,qBAA5C,GAAoE,UAAUC,GAAV,EAAeC,IAAf,EAAqB;EACrF,OAAO;IACHC,OAAO,EAAE,YAAY;MACjB,IAAIC,EAAE,GAAGF,IAAI,CAACC,OAAL,CAAad,IAAb,CAAkB,IAAlB,CAAT,CADiB,CAGjB;;MACA,IAAIY,GAAG,CAACX,KAAR,EAAe;QACXW,GAAG,CAACX,KAAJ,GAAY,KAAZ;QACAW,GAAG,CAACP,IAAJ;QACAO,GAAG,CAACV,YAAJ,GAAmBU,GAAG,CAACI,MAAvB;MACH;;MAED,IAAID,EAAE,KAAKtB,CAAC,CAACwB,SAAb,EACIL,GAAG,CAACX,KAAJ,GAAY,IAAZ;MAEJW,GAAG,CAACR,GAAJ,GAAUQ,GAAG,CAACI,MAAJ,GAAaJ,GAAG,CAACV,YAAjB,GAAgC,CAA1C;MAEA,OAAOa,EAAP;IACH,CAjBE;IAmBHG,OAAO,EAAE,YAAY;MACjBL,IAAI,CAACK,OAAL,CAAalB,IAAb,CAAkB,IAAlB;MACAY,GAAG,CAACX,KAAJ,GAAY,KAAZ;MAEAW,GAAG,CAACR,GAAJ,GAAUQ,GAAG,CAACI,MAAJ,GAAaJ,GAAG,CAACV,YAAjB,GAAgC,CAA1C;IACH,CAxBE;IA0BHiB,eAAe,EAAE,YAAY;MACzB,IAAIC,OAAO,GAAG,KAAKV,GAAnB;MAEAG,IAAI,CAACM,eAAL,CAAqBnB,IAArB,CAA0B,IAA1B;MAEAY,GAAG,CAACT,iBAAJ,IAAyBiB,OAAO,GAAG,KAAKV,GAAxC;IACH;EAhCE,CAAP;AAkCH,CAnCD"},"metadata":{},"sourceType":"script"}